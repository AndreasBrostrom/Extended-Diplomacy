# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# protect
# influence

WTT_add_infiltration_save_equipment = {
	enable = {
		OR = {
			has_completed_focus = PRC_infiltration
			has_completed_focus = PRC_anti_japanese_expedition
		}

	}
	abort = {
		OR = {
			has_war_with = event_target:WTT_current_china_leader
			NOT = { country_exists = event_target:WTT_current_china_leader }
			AND = {
				has_war = yes
				any_enemy_country = {
					is_major = yes
				}
			}
		}
	}
	
	ai_strategy = {
		type = save_equipment
		id = infantry_equipment
		value = 501
	}
}

#Best always keep some in reserve to remove infiltration when needed
WTT_remove_infiltration_save_equipment = {
	enable = {
		tag = event_target:WTT_current_china_leader
		any_other_country = {
			has_completed_focus = PRC_infiltration
		}
	}
	abort = {
		OR = {
			any_country = {
				has_completed_focus = PRC_infiltration
				has_war_with = ROOT
			}
			AND = {
				has_war = yes
				any_enemy_country = {
					is_major = yes
				}
			}
		}
	}
	ai_strategy = {
		type = save_equipment
		id = infantry_equipment
		value = 1001
	}
}

# make warlords support china better
WTT_all_warlords_support_china_in_war = {
	reversed = yes

	enable = {
		CHI = { is_faction_leader = yes }
		is_in_faction_with = CHI
		has_war = yes
	}
	abort = {
		OR = {
			CHI = { is_faction_leader = no }
			NOT = { is_in_faction_with = CHI }
			has_war = no
		}		
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = CHI
		value = 50
	}
}

# make warlords support china better part 2
WTT_all_warlords_support_china_in_war = {
	enable = {
		CHI = { is_faction_leader = yes }
		is_in_faction_with = CHI
		has_war = yes
	}
	abort = {
		OR = {
			CHI = { is_faction_leader = no }
			NOT = { is_in_faction_with = CHI }
			has_war = no
		}		
	}
	
	ai_strategy = {
		type = spare_unit_factor
		value = 50
	}
}

# we skip some of the minor minors that dont see much frontline
SOV_dont_waste_volunteers_to_chinese_minors = {
	enable = {
		tag = SOV
		SIK = { is_in_faction_with = CHI }
	}
	abort = {
		NOT = { SIK = { is_in_faction_with = CHI } }
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "SIK"
		value = -100
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = -100
	
	}
}
SOV_only_bother_with_volunteers_if_chi_losing = {
	allowed = {
		original_tag = SOV
	}

	enable = {		
		JAP = { is_ai = yes }
		date < 1941.1.1
		CHI = { surrender_progress < 0.75 }	#Basically never, because they just win
	}
	abort = {
		OR ={
			date > 1941.1.1
			JAP = { is_ai = no }
			CHI = { surrender_progress > 0.65 }
		}
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = -900
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XSM"
		value = -900
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SHX"
		value = -900
	}
}


SOV_dont_support_if_exiles_and_friendly_with_japan = {
	allowed = {
		tag = SOV
	}

	enable = {		
		OR = {
			SOV = { has_government = neutrality }	
			SOV = { has_government = fascism }	
		}
	}
	abort = {
		OR ={
			SOV = { has_war_with = JAP }
			SOV = { has_completed_focus = SOV_memories_of_1905 }
		}
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = -500
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XSM"
		value = -500
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SHX"
		value = -500
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "CHI"
		value = -500
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "PRC"
		value = -500
	}
	
	ai_strategy = {
		type = send_lend_lease_desire
		id = "YUN"
		value = -500
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "XSM"
		value = -500
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "SHX"
		value = -500
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "CHI"
		value = -500
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "PRC"
		value = -500
	}
}

PRC_beat_the_nationalists_in_civil_war = { #Mao will prioritize the nationalist borders.
	allowed = {
		original_tag = PRC
	}
	enable = {		
        country_exists = CHI
		is_neighbor_of = CHI
	}
	abort = {
	    is_in_faction_with = PRC
		CHI = { exists = no }
	}
	ai_strategy = {
	   type = prepare_for_war
	   id = CHI
	   value = 5
	}
}

CHI_beat_the_communists_in_civil_war = { #Chiang will prioritize the CPC borders.
	allowed = {
		original_tag = CHI
	}
	enable = {		
        country_exists = PRC
		is_neighbor_of = PRC
	}
	abort = {
	    is_in_faction_with = PRC
		PRC = { exists = no }
	}
	ai_strategy = {
	   type = prepare_for_war
	   id = PRC
	   value = 5
	}
}

SOV_befriend_the_communists = { #Stalin will only befriend the Chinese Communists if they share a border.
	allowed = {
		original_tag = SOV
	}
	enable = {		
        country_exists = PRC
		is_neighbor_of = PRC
	}
	abort = {
		PRC = { exists = no }
	}
	ai_strategy = {
	    type = befriend
		id = PRC
		value = 100
    }
	ai_strategy = {
	    type = support
		id = PRC
		value = 100
	}
	ai_strategy = {
	    type = send_volunteers_desire
		id = PRC
		value = 100
	}
}

PRC_befriend_the_soviets = { #Mao will only befriend the Soviets if they share a border.
	allowed = {
		original_tag = PRC
	}
	enable = {		
        country_exists = SOV
		is_neighbor_of = SOV
	}
	abort = {
		PRC = { exists = no }
	}
	ai_strategy = {
	    type = befriend
		id = PRC
		value = 75
    }
	ai_strategy = {
	    type = support
		id = PRC
		value = 25
	}
}

PRC_make_more_divisions = { #Mao will make more divisons until Chiang dies.
    allowed = {
	    original_tag = PRC
	}
	enable = {
	    CHI = { exists = yes }
	}
	abort = {
	    CHI = {
		   exists = no
		}
	}
	ai_strategy = {
	    type = force_build_armies
		value = 50
	}
}

PRC_dont_help_soviets = { #Mao won't help the Soviets until China is unified.
    allowed = {
	    original_tag = PRC
	}
	enable = {
	    SOV = { has_war_with = GER }
	}
	abort = {
	    CHI = {
		   exists = no
		}
	}
	ai_strategy = {
	    type = send_volunteers_desire
		id = SOV
		value = -500
	}
	ai_strategy = {
	    type = send_volunteers_desire
		id = MON
		value = -500
	}
	ai_strategy = {
	    type = send_volunteers_desire
		id = TAN
		value = -500
	}
	ai_strategy = {
	    type = send_volunteers_desire
		id = EST
		value = -500
	}
	ai_strategy = {
	    type = send_volunteers_desire
		id = FIN
		value = -500
	}
}

SOV_support_chiang_in_war = { #Stalin will support Chiang in the Sino-Japanese war.
    allowed = {
	    original_tag = SOV
	}
	enable = {
	    CHI = { has_war_with = JAP }
	}
	abort = {
	    CHI = { 
		    OR = {
			    has_war_with = PRC
				has_war = no
			}
		}   
	}
	ai_strategy = {
	    type = send_lend_lease_desire
		id = CHI
		value = 50
	}
}