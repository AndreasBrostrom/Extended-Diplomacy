
# This on_action are used to add to all country history files without actually touching them.

on_actions = {
	# Reset province name when in war
	on_declare_war = {
		effect = {
			if = {
				limit = {
					OR = {
						AND = {
							ROOT = { original_tag = SOV }
							OR = {
								FROM = { original_tag = ENG }
								FROM = { original_tag = USA }
								FROM = { original_tag = WGR }
							}
						}
						AND = {
							ROOT = { original_tag = DDR }
							OR = {
								FROM = { original_tag = ENG }
								FROM = { original_tag = USA }
								FROM = { original_tag = WGR }
							}
						}
						AND = {
							ROOT = { original_tag = ENG }
							OR = {
								FROM = { original_tag = SOV }
								FROM = { original_tag = DDR }
							}
						}
						AND = {
							ROOT = { original_tag = USA }
							OR = {
								FROM = { original_tag = SOV }
								FROM = { original_tag = DDR }
							}
						}
						AND = {
							ROOT = { original_tag = WGR }
							OR = {
								FROM = { original_tag = SOV }
								FROM = { original_tag = DDR }
							}
						}
					}
				}
				# Berlin
				reset_province_name = 6521
				remove_province_modifier = {
					static_modifiers = { ET_divided_city }
					province = 6521
				}

				# Vienna
				reset_province_name = 11666
				remove_province_modifier = {
					static_modifiers = { ET_divided_city }
					province = 11666
				}
			}
		}
	}

	# Reset province name when united
	on_release_as_free = {
		effect = {
			if = {
				limit = {
					ROOT = { original_tag = AUS }
					has_government = democratic
				}
				reset_province_name = 11666
				remove_province_modifier = {
					static_modifiers = { ET_divided_city }
					province = 11666
				}
			}
		}
	}

	on_annex = {
		effect = {
			# WRG Annex DDR
			if = {
				limit = {
					original_tag = WRG
					FROM = { original_tag = DDR }
				}
				set_capital = { state = 64 }
	
				reset_province_name = 11666
				remove_province_modifier = {
					static_modifiers = { ET_divided_city }
					province = 11666
				}
			}
			# DDR Annex WGR
			if = {
				limit = {
					original_tag = DDR
					FROM = { original_tag = WRG }
				}
	
				reset_province_name = 11666
				remove_province_modifier = {
					static_modifiers = { ET_divided_city }
					province = 11666
				}
			}
		}
	}
}