add_namespace = ET_Division_Init
add_namespace = ET_Division_Europe
add_namespace = ET_Division_Europe_State
add_namespace = ET_Division_Asia
add_namespace = ET_Division_Asia_State

country_event = { # Init Checks
	id = ET_Division_Init.0

	is_triggered_only = yes
	fire_only_once = no
	hidden = yes

	immediate = { 
		# POLEN
		if = {
			limit = {
				NOT = { tag = SOV }
				country_exists = POL
				OR = {
					controls_state = 10
					controls_state = 63
					controls_state = 66
					controls_state = 67
					controls_state = 68
					controls_state = 762
					controls_state = 807
					controls_state = 86
					controls_state = 87
					controls_state = 88
					controls_state = 92
					controls_state = 97
					controls_state = 98
					controls_state = 98
					controls_state = 98
				}
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Polen is a country and not under Soviet control." }
			country_event = { id = ET_Division_Europe.1 }
		}
		if = {
			limit = {
				NOT = { tag = SOV }
				NOT = { country_exists = POL }
				OR = {
					controls_state = 10
					controls_state = 63
					controls_state = 66
					controls_state = 67
					controls_state = 68
					controls_state = 762
					controls_state = 807
					controls_state = 86
					controls_state = 87
					controls_state = 88
					controls_state = 92
					controls_state = 97
					controls_state = 98
					controls_state = 98
					controls_state = 98
				}
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Polen is not a country and not under Soviet Union control." }
			country_event = { id = ET_Division_Europe.2 }
		}
		if = {
			limit = {
				tag = SOV
				country_exists = POL
				OR = {
					controls_state = 10
					controls_state = 63
					controls_state = 66
					controls_state = 67
					controls_state = 68
					controls_state = 762
					controls_state = 807
					controls_state = 86
					controls_state = 87
					controls_state = 88
					controls_state = 92
					controls_state = 97
					controls_state = 98
					controls_state = 98
					controls_state = 98
				}
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Polen is Soviet Union owned." }
			country_event = { id = ET_Division_Europe.3 }
		}

		# EAST GERMANY
		if = {
			limit = {
				NOT = { tag = SOV }
				NOT = { country_exists = DDR }
				OR = {
					controls_state = 61
					controls_state = 64
					controls_state = 65
					controls_state = 60
				}
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Germany is not under Soviet Union control." }
			country_event = { id = ET_Division_Europe.6 }
		}
		# EAST GERMANY DDR EXIST
		if = {
			limit = {
				NOT = { tag = SOV }
				NOT = { tag = DDR }
				country_exists = DDR
				OR = {
					controls_state = 5 
					controls_state = 63
					controls_state = 66
					controls_state = 67
					controls_state = 68
				}
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: East Germany dont belong to Poland" }
			country_event = { id = ET_Division_Europe.7 }
		}

		# CZECHSLOVAKIA (Czech)
		if = {
			limit = {
				AND = {
					NOT = { tag = SOV }
					NOT = { country_exists = CZE }
					OR = {
						controls_state = 69
						controls_state = 9 
						controls_state = 75
						controls_state = 74
						controls_state = 62
					}
				}
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Czechslovakia is not under Soviet Union control." }
			country_event = { id = ET_Division_Europe.9 }
		}



		# STATE: Ermland-Masuren
		if = {
			limit = {
				NOT = { tag = SOV }
				NOT = { tag = POL }
				controls_state = 5
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Ermland-Masuren state is not controlled by Soviet Union." }
			country_event = { id = ET_Division_Europe_State.1 }
		}
		# STATE: Wilno
		if = {
			limit = {
				NOT = { tag = SOV }
				controls_state = 784
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Wilno state is not controlled by Soviet Union." }
			784 = { state_event = { id = ET_Division_Europe_State.2 trigger_for = controller } }
		}
		# STATE: Köninsberg
		if = {
			limit = {
				NOT = { tag = SOV }
				controls_state = 763
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Köninsberg state is not controlled by Soviet Union." }
			763 = { state_event = { id = ET_Division_Europe_State.3 trigger_for = controller } }
		}
		# STATE: Carpathian Ruthenia
		if = {
			limit = {
				NOT = { tag = SOV }
				controls_state = 73
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Carpathian Ruthenia state is not controlled by Soviet Union." }
			73 = { state_event = { id = ET_Division_Europe_State.5 trigger_for = controller } }
		}
		# STATE: Memel
		if = {
			limit = {
				NOT = { tag = SOV }
				NOT = { tag = LIT }
				controls_state = 188
			}
			if = { limit = { is_debug = yes } log = "[GetDateText]: Memel state is not controlled correct controll" }
			188 = { state_event = { id = ET_Division_Europe_State.6 trigger_for = controller } }
		}
	}

	option = {
	}
}

country_event = { # 1 Polen is a country and not under Soviet control.
	id = ET_Division_Europe.1
	title = ET_Division_Europe.1.t
	desc = ET_Division_Europe.1.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe.1.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		POL = {
			10 =  { transfer_state_to  = POL }
			807 = { transfer_state_to  = POL }
			85 =  { transfer_state_to  = POL }
			88 =  { transfer_state_to  = POL }
			90 =  { transfer_state_to  = POL }
			92 =  { transfer_state_to  = POL }
			97 =  { transfer_state_to  = POL }
			98 =  { transfer_state_to  = POL }
			add_state_core = 10
			add_state_core = 807
			add_state_core = 85
			add_state_core = 88
			add_state_core = 90
			add_state_core = 92
			add_state_core = 97
			add_state_core = 98

			remove_state_core = 784
			remove_state_core = 89
			remove_state_core = 91
			remove_state_core = 93
			remove_state_core = 94
			remove_state_core = 95
			remove_state_core = 96
		}
		SOV = {
			89 =  { transfer_state_to  = SOV } # POL core provinces
			91 =  { transfer_state_to  = SOV } # POL core provinces
			93 =  { transfer_state_to  = SOV } # POL core provinces
			94 =  { transfer_state_to  = SOV } # POL core provinces
			95 =  { transfer_state_to  = SOV } # POL core provinces
			96 =  { transfer_state_to  = SOV } # POL core provinces
			add_state_core = 784
			add_state_core = 89 
			add_state_core = 91 
			add_state_core = 93 
			add_state_core = 94 
			add_state_core = 95 
			add_state_core = 96

			puppet = POL
		}
	}
}

country_event = { # 2 Polen is not a country and not under Soviet Union control.
	id = ET_Division_Europe.2
	title = ET_Division_Europe.2.t
	desc = ET_Division_Europe.2.desc

	is_triggered_only = yes

	immediate = {
	}
	option = {
		name = ET_Division_Europe.2.a
		ai_chance = {
			factor = 0
		}
		SOV = {
			10 =  { transfer_state_to  = SOV }
			807 = { transfer_state_to  = SOV }
			85 =  { transfer_state_to  = SOV }
			88 =  { transfer_state_to  = SOV }
			90 =  { transfer_state_to  = SOV }
			92 =  { transfer_state_to  = SOV }
			97 =  { transfer_state_to  = SOV }
			98 =  { transfer_state_to  = SOV }

			89 =  { transfer_state_to  = SOV } # POL core provinces
			91 =  { transfer_state_to  = SOV } # POL core provinces
			93 =  { transfer_state_to  = SOV } # POL core provinces
			94 =  { transfer_state_to  = SOV } # POL core provinces
			95 =  { transfer_state_to  = SOV } # POL core provinces
			96 =  { transfer_state_to  = SOV } # POL core provinces
			add_state_core = 784
			add_state_core = 89 
			add_state_core = 91 
			add_state_core = 93 
			add_state_core = 94 
			add_state_core = 95 
			add_state_core = 96
		}
		hidden_effect = {
			POL = {
				remove_state_core = 784
				remove_state_core = 89
				remove_state_core = 91
				remove_state_core = 93
				remove_state_core = 94
				remove_state_core = 95
				remove_state_core = 96
			}
			SOV = { country_event = { id = ET_Division_Europe_State.3 days = 3 } }
		}
	}
}
country_event = { # 3 Polen is Soviet Union owned.
	id = ET_Division_Europe.3
	title = ET_Division_Europe.3.t
	desc = ET_Division_Europe.3.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe.3.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		POL = {
			remove_state_core = 784
			remove_state_core = 89
			remove_state_core = 91
			remove_state_core = 93
			remove_state_core = 94
			remove_state_core = 95
			remove_state_core = 96
		}
		SOV = {
			10 =  { transfer_state_to  = SOV }
			807 = { transfer_state_to  = SOV }
			85 =  { transfer_state_to  = SOV }
			88 =  { transfer_state_to  = SOV }
			90 =  { transfer_state_to  = SOV }
			92 =  { transfer_state_to  = SOV }
			97 =  { transfer_state_to  = SOV }
			98 =  { transfer_state_to  = SOV }

			89 =  { transfer_state_to  = SOV } # POL core provinces
			91 =  { transfer_state_to  = SOV } # POL core provinces
			93 =  { transfer_state_to  = SOV } # POL core provinces
			94 =  { transfer_state_to  = SOV } # POL core provinces
			95 =  { transfer_state_to  = SOV } # POL core provinces
			96 =  { transfer_state_to  = SOV } # POL core provinces
			add_state_core = 784
			add_state_core = 89 
			add_state_core = 91 
			add_state_core = 93 
			add_state_core = 94 
			add_state_core = 95 
			add_state_core = 96

			release_puppet = POL
		}
	}
	option = {
		name = ET_Division_Europe.3.b
		ai_chance = {
			factor = 0
		}
		SOV = {
			10 =  { transfer_state_to  = SOV }
			807 = { transfer_state_to  = SOV }
			85 =  { transfer_state_to  = SOV }
			88 =  { transfer_state_to  = SOV }
			90 =  { transfer_state_to  = SOV }
			92 =  { transfer_state_to  = SOV }
			97 =  { transfer_state_to  = SOV }
			98 =  { transfer_state_to  = SOV }

			89 =  { transfer_state_to  = SOV } # POL core provinces
			91 =  { transfer_state_to  = SOV } # POL core provinces
			93 =  { transfer_state_to  = SOV } # POL core provinces
			94 =  { transfer_state_to  = SOV } # POL core provinces
			95 =  { transfer_state_to  = SOV } # POL core provinces
			96 =  { transfer_state_to  = SOV } # POL core provinces
			add_state_core = 784
			add_state_core = 89 
			add_state_core = 91 
			add_state_core = 93 
			add_state_core = 94 
			add_state_core = 95 
			add_state_core = 96
		}
		hidden_effect = {
			POL = {
				remove_state_core = 784
				remove_state_core = 89
				remove_state_core = 91
				remove_state_core = 93
				remove_state_core = 94
				remove_state_core = 95
				remove_state_core = 96
			}
		}
	}
}

country_event = { # 6 Germany is not under Soviet Union control.
	id = ET_Division_Europe.6
	title = ET_Division_Europe.6.t
	desc = ET_Division_Europe.6.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe.6.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		5 =  { transfer_state_to  = SOV } # German & Polen core provinces
		63 = { transfer_state_to  = SOV } # German & Polen core provinces
		66 = { transfer_state_to  = SOV } # German & Polen core provinces
		67 = { transfer_state_to  = SOV } # German & Polen core provinces
		68 = { transfer_state_to  = SOV } # German & Polen core provinces
		60 = { transfer_state_to  = SOV } # German core provinces
		61 = { transfer_state_to  = SOV } # German core provinces
		62 = { transfer_state_to  = SOV } # German core provinces
		64 = { transfer_state_to  = SOV } # German core provinces
		65 = { transfer_state_to  = SOV } # German core provinces
		hidden_effect = {
			SOV = { country_event = { id = ET_Division_Europe.7 days = 2 } }
		}
	}
}
country_event = { # 7 Soviet give polen East Germany
	id = ET_Division_Europe.7

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe.7.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		5 =  { transfer_state_to  = POL } # Polen core provinces
		63 = { transfer_state_to  = POL } # Polen core provinces
		66 = { transfer_state_to  = POL } # Polen core provinces
		67 = { transfer_state_to  = POL } # Polen core provinces
		68 = { transfer_state_to  = POL } # Polen core provinces
		hidden_effect = {
			GER = {
				remove_state_core = 5
				remove_state_core = 63
				remove_state_core = 66
				remove_state_core = 67
				remove_state_core = 68
			}
		}
	}
}


country_event = { # 9 Czech Is not under the controll of the Soviet Union
	id = ET_Division_Europe.9
	title = ET_Division_Europe.9.t
	desc = ET_Division_Europe.9.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe.9.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		69 = { transfer_state_to  = SOV } # Czechslovakia core provinces
		9  = { transfer_state_to  = SOV }   # Czechslovakia core provinces
		75 = { transfer_state_to  = SOV }  # Czechslovakia core provinces
		74 = { transfer_state_to  = SOV }  # Czechslovakia core provinces
		72 = { transfer_state_to  = SOV }  # Czechslovakia core provinces
		hidden_effect = {
			SOV = { country_event = { id = ET_Division_Europe.9 days = 2 } }
		}
	}
}



country_event = { # STATE: Ermland-Masuren
	id = ET_Division_Europe_State.1
	title = ET_Division_Europe_State.1.t
	desc = ET_Division_Europe_State.1.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe_State.1.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		THIS = {
			5 =  { transfer_state_to  = POL } # German core provinces
			add_state_core = 5
		}
		hidden_effect = {
			GER = { remove_state_core = 5 }
		}
	}
}
country_event = { # STATE: Wilno
	id = ET_Division_Europe_State.2
	title = ET_Division_Europe_State.2.t
	desc = ET_Division_Europe_State.2.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe_State.2.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		THIS = {
			784 =  { transfer_state_to  = SOV } # POL & LIT core provinces
			add_state_core = 784
		}
	}
}
country_event = { # STATE: Köningsberg
	id = ET_Division_Europe_State.3
	title = ET_Division_Europe_State.3.t
	desc = ET_Division_Europe_State.3.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe_State.3.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		763 =  { transfer_state_to  = SOV } # Köningsberg
		hidden_effect = {
			SOV = { add_state_core = 763 }
			GER = { remove_state_core = 763 }
			SOV = {
				if = {
					limit = { has_government = communism }
					country_event = { id = ET_SovietUnion_Renaming_Renaming.1 days = 30 }
				}
			}
		}
	}
	option = {
		name = ET_Division_Europe_State.3.b
		ai_chance = {
			factor = 0
		}
	}
}
country_event = { # STATE: Carpathian Ruthenia
	id = ET_Division_Europe_State.5
	title = ET_Division_Europe_State.5.t
	desc = ET_Division_Europe_State.5.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe_State.5.a
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT

		73 = { transfer_state_to  = SOV } # CZE core provinces
		SOV = { add_state_core = 73 }
		hidden_effect = {
			CZE = { remove_state_core = 73 }
		}
	}
	option = {
		name = ET_Division_Europe_State.5.b
		ai_chance = {
			factor = 0
		}
	}
}
country_event = { # STATE: Memel
	id = ET_Division_Europe_State.6
	title = ET_Division_Europe_State.6.t
	desc = ET_Division_Europe_State.6.desc

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = ET_Division_Europe_State.6.a
		trigger = { NOT = { country_exists = LIT } }
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT

		188 = { transfer_state_to  = SOV }
		SOV = { add_state_core = 188 }
		hidden_effect = {
			GER = { remove_state_core = 188 }
		}
	}
	option = {
		name = ET_Division_Europe_State.6.b
		trigger = { country_exists = LIT }
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = ET_Division_World_Historical_TT
		
		188 = { transfer_state_to  = LIT }
		hidden_effect = {
			GER = { remove_state_core = 188 }
		}

		
	}
}